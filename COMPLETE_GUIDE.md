# ๐ ุฑุงูููุง ฺฉุงูู V2Bot v3.0

## ๐ฏ ููุฑุณุช ูุทุงูุจ

1. [ูุตุจ ุณุฑุน](#ูุตุจ-ุณุฑุน)
2. [ูพฺฉุฑุจูุฏ](#ูพฺฉุฑุจูุฏ)
3. [ูฺฺฏโูุง](#ูฺฺฏโูุง)
4. [ุงุณุชูุงุฏู](#ุงุณุชูุงุฏู)
5. [ุนุจโุงุจ](#ุนุจโุงุจ)
6. [ุจุฑูุฒุฑุณุงู](#ุจุฑูุฒุฑุณุงู)

---

## ๐ ูุตุจ ุณุฑุน

### โจ ูุตุจ ฺฉโุฎุท (ุชูุตู ูโุดูุฏ)

```bash
sudo apt update && sudo apt install -y git curl python3 python3-venv python3-pip
git clone https://github.com/KillHosein/v2bot
cd v2bot
bash install.sh
```

**ุงู ููู ุงุณุช!** ุงุณฺฉุฑูพุช ุฎูุฏฺฉุงุฑ ููู ฺุฒ ุฑุง ูุตุจ ูโฺฉูุฏ.

### ๐ ุงุทูุงุนุงุช ููุฑุฏ ูุงุฒ

ููฺฏุงู ูุตุจ ุงุฒ ุดูุง ุฏุฑุฎูุงุณุช ูโุดูุฏ:

1. **BOT_TOKEN**: ุงุฒ [@BotFather](https://t.me/BotFather) ุฏุฑุงูุช ฺฉูุฏ
   - ุฏุณุชูุฑ `/newbot` ุฑุง ุจุฒูุฏ
   - ูุงู ู username ุจุฑุง ุฑุจุงุช ุงูุชุฎุงุจ ฺฉูุฏ
   - ุชูฺฉู ุฑุง ฺฉูพ ฺฉูุฏ

2. **ADMIN_ID**: ุขุฏ ุนุฏุฏ ุดูุง
   - ุจู [@userinfobot](https://t.me/userinfobot) ุจุฑูุฏ
   - `/start` ุจุฒูุฏ
   - ุนุฏุฏ ID ุฑุง ฺฉูพ ฺฉูุฏ

3. **CHANNEL_ID**: (ุงุฎุชุงุฑ)
   - ุจุฑุง ุนุถูุช ุงุฌุจุงุฑ
   - ูโุชูุงูุฏ Enter ุจุฒูุฏ

---

## โ๏ธ ูพฺฉุฑุจูุฏ

### ูุงู `.env`

ุจุนุฏ ุงุฒ ูุตุจุ ูุงู `.env` ุณุงุฎุชู ูโุดูุฏ:

```env
BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
ADMIN_ID=123456789
CHANNEL_ID=@your_channel
USE_REDIS=1
REDIS_URL=redis://localhost:6379/0
ENABLE_MONITORING=1
DEFAULT_LANGUAGE=fa
```

### ุงูุฒูุฏู ูพูู

1. ูุงุฑุฏ ุฑุจุงุช ุดูุฏ: `/admin`
2. **๐ ูพููโูุง** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. **โ ุงูุฒูุฏู ูพูู** ุฑุง ุจุฒูุฏ
4. ุงุทูุงุนุงุช ูพูู ุฑุง ูุงุฑุฏ ฺฉูุฏ:
   - ูุงู ูพูู
   - ููุน (Marzban, 3X-UI, ...)
   - ุขุฏุฑุณ URL
   - ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ

### ุงูุฒูุฏู ูพูู

1. `/admin` โ **๐ ูพููโูุง**
2. **โ ุงูุฒูุฏู ูพูู**
3. ูุดุฎุตุงุช ูพูู:
   - ูุงู
   - ููุช (ุชููุงู)
   - ูุฏุช ุฒูุงู (ุฑูุฒ)
   - ุญุฌู (ฺฏฺฏุงุจุงุช)

---

## ๐ฏ ูฺฺฏโูุง

### ๐ ุณุณุชู ฺฉู ูพูู (v3.0)

**ูุฒุงุง:**
- โ ุชุฑุงฺฉูุดโูุง ุงูู
- โ ุดุงุฑฺ ุจุง ฺฉุงุฑุช ุจู ฺฉุงุฑุช
- โ ุชุงุฏ ุฏุณุช ุชูุณุท ุงุฏูู
- โ ุชุงุฑุฎฺู ฺฉุงูู
- โ ุขูุงุฑ ุฏูู

**ูุญูู ุงุณุชูุงุฏู:**

**ุจุฑุง ฺฉุงุฑุจุฑุงู:**
```
/start โ ๐ฐ ฺฉู ูพูู
โ โ ุดุงุฑฺ ฺฉู ูพูู
โ ุงูุชุฎุงุจ ูุจูุบ
โ ูุงุฑุฒ ุจู ฺฉุงุฑุช
โ ุงุฑุณุงู ุฑุณุฏ
```

**ุจุฑุง ุงุฏูู:**
```
/admin โ ๐ฐ ฺฉู ูพูู
โ ูุณุช ุฏุฑุฎูุงุณุชโูุง
โ ุชุงุฏ/ุฑุฏ
```

### โญ ุณุณุชู ุงูุชุงุฒ ู ููุงุฏุงุฑ (v3.0)

**5 ุณุทุญ:**

| ุณุทุญ | ุงูุชุงุฒ | ุชุฎูู | ุงููุฌ |
|---|---|---|---|
| ุจุฑูุฒ | 0-99 | 0% | ๐ฅ |
| ููุฑู | 100-499 | 5% | ๐ฅ |
| ุทูุง | 500-999 | 10% | ๐ฅ |
| ูพูุงุชููู | 1000-2499 | 15% | ๐ |
| ุงููุงุณ | 2500+ | 20% | ๐ |

**ุฑูุดโูุง ฺฉุณุจ ุงูุชุงุฒ:**
- ๐ฐ ุฎุฑุฏ: ูุฑ 10,000 ุชููุงู = 10 ุงูุชุงุฒ
- ๐ฅ ูุนุฑู: 100 ุงูุชุงุฒ
- ๐ ูุฑูุฏ ุฑูุฒุงูู: 1 ุงูุชุงุฒ
- ๐ ุชููุฏ: 100 ุงูุชุงุฒ

**ูุญูู ุงุณุชูุงุฏู:**
```
/start โ โญ ุจุงุดฺฏุงู ูุดุชุฑุงู
โ ูุดุงูุฏู ุงูุชุงุฒุงุช
โ ุชุจุฏู ุจู ุชุฎูู
โ ุชุงุฑุฎฺู
```

### ๐ ุฏุงุดุจูุฑุฏ ฺฉุงุฑุจุฑ (v3.0)

**ููุงุด:**
- ๐ค ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ
- ๐ฐ ููุฌูุฏ ฺฉู ูพูู
- โญ ุณุทุญ ู ุงูุชุงุฒ
- ๐ฆ ุณุฑูุณโูุง ูุนุงู
- ๐ ุขูุงุฑ ุฎุฑุฏ
- ๐ ูููุฏุงุฑ ูุตุฑู

**ุฏุณุชุฑุณ:**
```
/start โ ๐ ุฏุงุดุจูุฑุฏ ูู
```

### ๐ฑ ุฑุงูููุง ุงุชุตุงู (v3.0)

**ูพูุชูุฑูโูุง ูพุดุชุจุงู ุดุฏู:**
- ๐ค Android (V2RayNGุ NekoBox)
- ๐ iOS (Streisandุ Fair VPN)
- ๐ช Windows (V2RayN)
- ๐ macOS

**ูฺฺฏโูุง:**
- โ ุฑุงูููุง ฺฏุงู ุจู ฺฏุงู
- โ QR Code
- โ ููฺฉ ูุณุชูู ุฏุงูููุฏ
- โ ูฺฉุงุช ุนุจโุงุจ

### ๐ ุงุนูุงูโูุง ููุดููุฏ (v3.0)

**ุงููุงุน ุงุนูุงู:**
- โฐ ุงุฏุขูุฑ ุงุชูุงู ุณุฑูุณ (1ุ 3ุ 7 ุฑูุฒ ูุจู)
- ๐ ูุดุฏุงุฑ ุญุฌู ฺฉู (ฺฉูุชุฑ ุงุฒ 1GB)
- ๐ ุชุจุฑฺฉ ุชููุฏ ุฎูุฏฺฉุงุฑ
- ๐ ูพุดููุงุฏุงุช ูฺู

**ุงุฌุฑุง ุฎูุฏฺฉุงุฑ:**
- ูุฑ 12 ุณุงุนุช ฺฉุจุงุฑ
- ุจุฑุฑุณ ูุถุนุช ุณุฑูุณโูุง
- ุงุฑุณุงู ุจู ฺฉุงุฑุจุฑุงู ููุงุณุจ

---

## ๐จโ๐ผ ูพูู ุงุฏูู

### ููู ุงุตู

```
๐จโ๐ผ ูพูู ูุฏุฑุช ุฑุจุงุช

๐ ุขูุงุฑ ูุญุธูโุง:
๐ฅ ฺฉุงุฑุจุฑุงู: 150 ููุฑ
๐ ุณุฑูุณ ูุนุงู: 45 ุนุฏุฏ
๐ฐ ุฏุฑุขูุฏ ุงูุฑูุฒ: 250,000 ุชููุงู
๐ด ุณูุงุฑุดุงุช ุฏุฑ ุงูุชุธุงุฑ: 3
๐ข ุชฺฉุชโูุง ุจุงุฒ: 0

[๐ข ุฑุจุงุช ูุนุงู]
[๐ฅ ฺฉุงุฑุจุฑุงู] [๐ฆ ุณูุงุฑุดุงุช]
[๐ฐ ฺฉู ูพูู] [๐ ฺฉุฏ ุชุฎูู]
[๐ฌ ุชฺฉุชโูุง] [๐ค ุงุฑุณุงู ููฺฏุงู]
[๐ ุขูุงุฑ] [โ๏ธ ุชูุธูุงุช]
```

### ูุฏุฑุช ุณูุงุฑุดุงุช

**ูุถุนุชโูุง ุณูุงุฑุด:**
- โณ ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ
- โ ุชุงุฏ ุดุฏู (ูุนุงู)
- โ ุฑุฏ ุดุฏู
- ๐๏ธ ุญุฐู ุดุฏู

**ุงูุฏุงูุงุช:**
- ุชุงุฏ ู ุณุงุฎุช ฺฉุงููฺฏ
- ุฑุฏ ู ุจุงุฒฺฏุดุช ูุฌู
- ุชูุฏุฏ
- ุญุฐู

### ูุฏุฑุช ฺฉุงุฑุจุฑุงู

**ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ:**
- ๐ค ุงุทูุงุนุงุช ุดุฎุต
- ๐ฆ ุณุฑูุณโูุง ุฎุฑุฏุงุฑ ุดุฏู
- ๐ฐ ฺฉู ูพูู
- โญ ุงูุชุงุฒุงุช
- ๐ ุชุงุฑุฎฺู ุชุฑุงฺฉูุดโูุง

**ุงูุฏุงูุงุช:**
- ูุณุฏูุฏ/ุฑูุน ูุณุฏูุฏ
- ุชูุธู ููุฌูุฏ ฺฉู ูพูู
- ุงุถุงูู/ฺฉู ฺฉุฑุฏู ุงูุชุงุฒ
- ูุดุงูุฏู ุชุงุฑุฎฺู

### ุขูุงุฑ ู ฺฏุฒุงุฑุด

**ุขูุงุฑ ูพุงู:**
- ุชุนุฏุงุฏ ฺฉุงุฑุจุฑุงู
- ุณุฑูุณโูุง ูุนุงู
- ุฏุฑุขูุฏ (ุฑูุฒุงููุ ููุชฺฏุ ูุงูุงูู)
- ูุญุจูุจโุชุฑู ูพููโูุง

**ุขูุงุฑ ูพุดุฑูุชู:**
- ูููุฏุงุฑ ูุฑูุด
- ูุฑุฎ ุชุจุฏู
- ฺฉุงุฑุจุฑุงู ูุนุงู
- ุฏุฑุขูุฏ ูพุดโุจู ุดุฏู

---

## ๐ง ุนุจโุงุจ

### ูุดฺฉูุงุช ุฑุงุฌ

#### 1. ุฑุจุงุช ุดุฑูุน ููโุดูุฏ

**ุจุฑุฑุณ:**
```bash
# ูุดุงูุฏู ูุงฺฏ
sudo journalctl -u v2bot -n 50 --no-pager

# ุจุฑุฑุณ ูุถุนุช
sudo systemctl status v2bot
```

**ุฑูุน:**
```bash
# ุฑุณุชุงุฑุช
sudo systemctl restart v2bot

# ุงฺฏุฑ ฺฉูฺฉ ูฺฉุฑุฏุ ุฏูุจุงุฑู ูุตุจ ฺฉูุฏ
cd v2bot
source .venv/bin/activate
python -m bot.run
```

#### 2. ูพูู ูุชุตู ููโุดูุฏ

**ุจุฑุฑุณ:**
- ุขุง URL ุตุญุญ ุงุณุชุ
- ุขุง username/password ุฏุฑุณุช ุงุณุชุ
- ุขุง ูพูู ุฑูุดู ุงุณุชุ

**ุชุณุช ุงุชุตุงู:**
```bash
curl -I https://your-panel.com
```

#### 3. ุฏุชุงุจุณ ุฎุฑุงุจ ุดุฏ

**ุจฺฉุงูพ:**
```bash
cp bot.db bot.db.backup
```

**ุจุงุฒุงุจ:**
```bash
python -c "from bot.db import db_setup; db_setup()"
```

#### 4. Redis ฺฉุงุฑ ููโฺฉูุฏ

**ุจุฑุฑุณ:**
```bash
redis-cli ping
# ุจุงุฏ PONG ุจุฑฺฏุฑุฏุงูุฏ
```

**ุฑุณุชุงุฑุช:**
```bash
sudo systemctl restart redis
```

### ุงุณฺฉุฑูพุชโูุง ฺฉูฺฉ

#### ุจุฑุฑุณ ุณูุงูุช ฺฉุฏ

```bash
python CHECK_AND_FIX.py
```

ุงู ุงุณฺฉุฑูพุช ุจุฑุฑุณ ูโฺฉูุฏ:
- โ Import ูุง
- โ Handler ูุง
- โ ูุงูโูุง ุถุฑูุฑ
- โ ุฏุชุงุจุณ

#### ุฑูุน ุฎูุฏฺฉุงุฑ ูุดฺฉูุงุช

```bash
python AUTO_FIX.py
```

ุงู ุงุณฺฉุฑูพุช:
- โ Import ูุง ฺฏู ุดุฏู ุฑุง ุงุถุงูู ูโฺฉูุฏ
- โ Handler ูุง ฺฏู ุดุฏู ุฑุง ุซุจุช ูโฺฉูุฏ
- โ ูุงูโูุง ุถุฑูุฑ ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ

#### ฺฉูพุงุฑฺูโุณุงุฒ ุฏุณุช

```bash
python INTEGRATION_COMPLETE.py
```

ุจุฑุง integration ุฏุณุช ูฺฺฏโูุง v3.0

---

## ๐ ุจุฑูุฒุฑุณุงู

### ุจุฑูุฒุฑุณุงู ุงุฒ ูุณุฎู ูุจู

```bash
cd /root/v2bot

# ุจฺฉุงูพ
cp bot.db bot.db.backup

# ุฏุฑุงูุช ุขุฎุฑู ูุณุฎู
git pull origin main

# ูุตุจ dependencies ุฌุฏุฏ
source .venv/bin/activate
pip install -r requirements.txt

# ุงุฌุฑุง migration
python -m bot.migrate_v3

# ุฑุณุชุงุฑุช
sudo systemctl restart v2bot
```

### ุจุฑูุฒุฑุณุงู ุจู v3.0

ุงฺฏุฑ ุงุฒ ูุณุฎูโูุง ูุฏูโุชุฑ ุฏุงุฑุฏ:

```bash
# ุจฺฉุงูพ ฺฉุงูู
cp bot.db bot.db.backup_before_v3
cp .env .env.backup

# ูุตุจ ูฺฺฏโูุง ุฌุฏุฏ
python -c "from bot.wallet_system import WalletSystem; WalletSystem.setup_tables()"
python -c "from bot.loyalty_system import LoyaltySystem; LoyaltySystem.setup_tables()"
python -c "from bot.smart_notifications import SmartNotification; SmartNotification.setup_tables()"

# ุงุฌุฑุง migration
python -m bot.migrate_v3

# ุฑุณุชุงุฑุช
sudo systemctl restart v2bot
```

---

## ๐ ุจูููโุณุงุฒ

### ุงูุฒุงุด ฺฉุงุฑุง

1. **Redis Cache:**
   ```bash
   # ุจูููโุณุงุฒ Redis
   sudo nano /etc/redis/redis.conf
   # maxmemory 256mb
   # maxmemory-policy allkeys-lru
   ```

2. **Database:**
   ```bash
   # ุจูููโุณุงุฒ SQLite
   sqlite3 bot.db "VACUUM;"
   sqlite3 bot.db "ANALYZE;"
   ```

3. **Logs:**
   ```bash
   # ูุญุฏูุฏ ฺฉุฑุฏู ุงูุฏุงุฒู ูุงฺฏ
   sudo journalctl --vacuum-size=50M
   ```

### ูุงูุชูุฑูฺฏ

**ูุตุจ Monitoring Dashboard:**
```bash
/admin โ ๐ก ูุงูุชูุฑูฺฏ
```

**ููุงุด:**
- CPU Usage
- Memory Usage
- Disk Space
- Network
- Active Users
- Response Time

---

## ๐ ุงููุช

### ุชูุตูโูุง ุงููุช

1. **Firewall:**
   ```bash
   sudo ufw enable
   sudo ufw allow 22
   sudo ufw allow 80
   sudo ufw allow 443
   ```

2. **SSL Certificate:**
   ```bash
   sudo certbot --nginx -d your-domain.com
   ```

3. **Backup ุฎูุฏฺฉุงุฑ:**
   ```bash
   # ุงุถุงูู ฺฉุฑุฏู ุจู crontab
   0 2 * * * cp /root/v2bot/bot.db /root/backups/bot_$(date +\%Y\%m\%d).db
   ```

4. **ูุญุฏูุฏ ฺฉุฑุฏู ุฏุณุชุฑุณ:**
   ```python
   # ุฏุฑ .env
   ALLOWED_IPS=192.168.1.0/24
   ```

---

## ๐ ูพุดุชุจุงู

### ฺฉุงูุงูโูุง ูพุดุชุจุงู

- ๐ง **ุงูู:** support@example.com
- ๐ฌ **ุชูฺฏุฑุงู:** @your_support
- ๐ **GitHub Issues:** [ุซุจุช ูุดฺฉู](https://github.com/KillHosein/v2bot/issues)

### ูุณุชูุฏุงุช ุจุดุชุฑ

- ๐ **UPGRADE_V3.md**: ุฑุงูููุง ฺฉุงูู v3.0
- ๐ **WALLET_UPGRADE.md**: ุณุณุชู ฺฉู ูพูู
- ๐ก **FEATURE_IDEAS.md**: 36 ูฺฺฏ ุขูุฏู

---

## ๐ ูุชุฌูโฺฏุฑ

ุฑุจุงุช V2Bot v3.0 ฺฉ ุณุณุชู ฺฉุงูู ู ุญุฑููโุง ุจุฑุง ูุฑูุด VPN ุงุณุช ฺฉู ุดุงูู:

โ **ฺฉุงูู**: ููู ูฺฺฏโูุง ูุงุฒู ุจุฑุง ูุฑูุด
โ **ุญุฑููโุง**: UI ุฒุจุง ู ฺฉุงุฑุจุฑุฏ
โ **ุงูู**: ุณุณุชู ุชุฑุงฺฉูุดโูุง ุงูู
โ **ููุดููุฏ**: ุงุนูุงูโูุง ู ุงุชููุงุณูู
โ **ููุงุณโูพุฐุฑ**: ุขูุงุฏู ุจุฑุง ุฑุดุฏ
โ **ูุงุจู ูฺฏูุฏุงุฑ**: ฺฉุฏ ุชูุฒ ู ูุณุชูุฏ

**ูููู ุจุงุดุฏ! ๐**
