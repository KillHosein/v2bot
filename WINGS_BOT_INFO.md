# 🦅 Wings Bot

**ربات فروش و مدیریت سرویس VPN**

---

## 📝 درباره Wings Bot

Wings Bot یک ربات تلگرامی کامل و حرفه‌ای برای فروش، مدیریت و پشتیبانی سرویس‌های VPN است که با قابلیت‌های زیر ارائه می‌شود:

### ✨ امکانات اصلی

#### 👥 مدیریت کاربران
- ✅ ثبت نام و احراز هویت خودکار
- ✅ سیستم ارجاع (Referral) و پاداش
- ✅ کیف پول داخلی
- ✅ مدیریت چند سطحی ادمین

#### 💰 سیستم فروش
- ✅ فروش پلن‌های مختلف (ترافیک و زمان‌بندی شده)
- ✅ پرداخت با کارت، کریپتو و درگاه پرداخت
- ✅ کد تخفیف
- ✅ سیستم ریسلری

#### 🔧 مدیریت سرویس‌ها
- ✅ اتصال به پنل‌های Marzban, 3x-UI, X-UI
- ✅ ساخت خودکار سرویس
- ✅ تمدید و مدیریت سرویس‌ها
- ✅ یادآوری انقضا و هشدار ترافیک

#### 📊 پنل ادمین
- ✅ مدیریت سفارشات (تأیید/رد)
- ✅ مدیریت کاربران
- ✅ آمار و گزارش‌گیری
- ✅ ارسال پیام همگانی
- ✅ مدیریت تیکت‌ها

#### 🛠 امکانات پیشرفته
- ✅ بکاپ خودکار
- ✅ سیستم تیکتینگ
- ✅ آموزش‌های تصویری
- ✅ پشتیبانی از چند پنل همزمان

---

## 🚀 نسخه جدید (v2.0)

### تغییرات اخیر:

#### 🐛 رفع مشکلات
- ✅ **رفع دکمه خاموش/روشن ربات**: مشکل timeout برطرف شد
- ✅ **سفارشات در انتظار**: اضافه شدن handler کامل برای مدیریت
- ✅ **دکمه یادآوری فردا**: handler کامل و کاربردی
- ✅ **حذف دکمه‌های غیرضروری**: بهبود UI یادآوری‌ها

#### ⚡ بهینه‌سازی عملکرد
- ✅ **6 ایندکس جدید**: سرعت کوئری‌ها 50-70% بهبود یافت
- ✅ **بهبود بکاپ**: شامل تمام اطلاعات (12 فایل JSON)
- ✅ **کاهش مصرف حافظه**: بهینه‌سازی‌های متعدد

#### 📚 مستندات جامع
- ✅ **CHANGELOG_FIXES.md**: لیست کامل تغییرات
- ✅ **INSTALLATION_GUIDE.md**: راهنمای نصب گام به گام
- ✅ **PERFORMANCE_IMPROVEMENTS.md**: راهنمای بهینه‌سازی پیشرفته
- ✅ **apply_performance_fixes.py**: اسکریپت خودکار بهینه‌سازی

---

## 📦 نصب و راه‌اندازی

### نصب سریع

```bash
git clone https://github.com/KillHosein/v2bot.git
cd v2bot
bash install.sh
```

### پیکربندی

1. ایجاد فایل `.env`:
```bash
cp .env.example .env
```

2. ویرایش `.env` و تنظیم:
- `BOT_TOKEN`: توکن ربات از @BotFather
- `ADMIN_ID`: شناسه عددی ادمین اصلی

3. راه‌اندازی:
```bash
python3 main.py
```

یا با systemd:
```bash
sudo systemctl start wingsbot
```

---

## 🔧 بروزرسانی

### بروزرسانی به نسخه 2.0

```bash
cd /path/to/v2bot
git pull origin main
python3 apply_performance_fixes.py
sudo systemctl restart wingsbot
```

اسکریپت بهینه‌سازی به صورت خودکار:
- بکاپ از دیتابیس می‌گیرد
- ایندکس‌های جدید را اضافه می‌کند
- دیتابیس را optimize می‌کند

---

## 📖 مستندات

- **راهنمای نصب کامل**: [INSTALLATION_GUIDE.md](INSTALLATION_GUIDE.md)
- **لیست تغییرات**: [CHANGELOG_FIXES.md](CHANGELOG_FIXES.md)
- **راهنمای بهینه‌سازی**: [PERFORMANCE_IMPROVEMENTS.md](PERFORMANCE_IMPROVEMENTS.md)
- **مستندات اصلی**: [README.md](README.md)

---

## 🎯 ویژگی‌های برجسته

### عملکرد
- ⚡ **سریع**: 50-70% بهتر از نسخه قبل
- 💾 **سبک**: مدیریت بهینه حافظه
- 🔄 **پایدار**: مدیریت خطا و fallback

### امنیت
- 🔐 مدیریت ایمن توکن‌ها
- 🛡️ محافظت در برابر spam
- 📝 لاگ کامل عملیات

### پشتیبانی
- 🌐 پنل‌های مختلف: Marzban, 3x-UI, X-UI
- 💳 درگاه‌های پرداخت متنوع
- 🔌 API کامل و مستند

---

## 📞 پشتیبانی

- **Repository**: https://github.com/KillHosein/v2bot
- **Issues**: برای گزارش مشکلات
- **Pull Requests**: برای مشارکت در توسعه

---

## 📊 آمار

- **نسخه فعلی**: 2.0
- **فایل‌ها**: 66
- **خطوط کد**: 23,200+
- **زبان**: Python 3.8+
- **Framework**: python-telegram-bot 20.x

---

## 🙏 قدردانی

از تمام کسانی که در توسعه و بهبود Wings Bot مشارکت داشته‌اند، سپاسگزاریم.

---

## 📜 مجوز

این پروژه تحت مجوز MIT منتشر شده است.

---

**🦅 Wings Bot - پرواز به سمت آینده VPN!**
